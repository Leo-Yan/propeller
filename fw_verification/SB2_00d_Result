

1. Load the 00d.lod into drive

 $ ./SeaChest_Firmware -d /dev/sg1 --downloadFW signed_CFW_MFW_r00d.lod
 
/dev/sg1 - XS3840SE70004 - HLL0312B0000822150Z3 - SCSI
..................................................................
Firmware Download successful
Firmware Download time (s): 1.01
Average time/segment  (ms): 15.28
Activate Time          (ms): 983.43
New firmware version is 1022

/*********************************************************** START OF UNINT AND INIT STATES  **************************************************************************************/



Test the Uninitialized Drive
============================
Input File: test_data.bin
Size      : 512 bytes


2. Read the 512 bytes from Uninitialized drive

$ 	
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 1
 00     00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 10     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 20     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Expected : DEAD in the STATE byte (0-7) if transfer length is < active mutex (IDM Read Payload shows 0000h)
Drive    : DEAD


3. Read the 512 bytes from Uninitialized drive. Set the transfer length beyond 01 in 3rd last byte and data size as 512

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 02 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 02 02 00 
SCSI Status: Good 
Error 99 occurred, no data received


Expected  : No data to receive
Drive     : Does not display any data



4. Test the drive with non-existence op code in the drive  ExtendedRead16 command (0x81)

$ sg_raw -v -r 512 /dev/sg1 81 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 81 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Check Condition 

Sense Information:
Descriptor format, current; Sense key: Illegal Request
Additional sense: Invalid command operation code
  Descriptor type: Sense key specific: Field pointer:
        Error in Command: byte 0 bit 7
  Descriptor type: Field replaceable unit code: 0x1
  Descriptor type: Vendor specific [0x80]
    00 00 00 00 00 00 00 00 00 00 
 Raw sense data (in hex):
        72 05 20 00 00 00 00 1c  02 06 00 00 cf 00 00 00
        03 02 00 01 80 0e 00 00  00 00 00 00 00 00 00 00

Error 9 occurred, no data received
Illegal request, invalid opcode


Expected : Invalid Opcode
Drive    : Invalid Opcode	




5. Test if the drive supports CompareAndWrite command (0x8E) 

(Test with Mutex Unlock 04 / Mutex Refresh 05 /  Mutex Break 06 / Mutex Destroy 07 )

 Expected : The above mutex operations should not initialize the drive (The drive should be in uninitialized state) and should say "LBA out of range or similar error"
 

(5a) Mutex Unlock 04
=====================


$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 04 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 04 00 
SCSI Status: Check Condition 

Sense Information:
Descriptor format, current; Sense key: Illegal Request
Additional sense: Logical block address out of range
  Descriptor type: Field replaceable unit code: 0x1
  Descriptor type: Vendor specific [0x80]
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 
 Raw sense data (in hex):
        72 05 21 00 00 00 00 14  03 02 00 01 80 0e 00 00
        00 00 00 00 00 00 00 00  00 00 00 00

Illegal request


Expected : LBA out of Range 
Drive    : Check Condition 
*Note : Pass . Look at Additional sense buffer data



(5b)Read the 512 bytes from Uninitialized drive
================================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 2
 00     00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 10     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 20     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Compared FILE 1 and FILE 2: No difference found as expected



(5c) Mutex Refresh 05
=====================

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Check Condition 

Sense Information:
Descriptor format, current; Sense key: Illegal Request
Additional sense: Logical block address out of range
  Descriptor type: Field replaceable unit code: 0x1
  Descriptor type: Vendor specific [0x80]
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 
 Raw sense data (in hex):
        72 05 21 00 00 00 00 14  03 02 00 01 80 0e 00 00
        00 00 00 00 00 00 00 00  00 00 00 00

Illegal request


Expected : LBA out of Range 
Drive    : Check Condition 
*Note : Pass . Look at Additional sense buffer data



(5d) Read the 512 bytes from Uninitialized drive
 ===============================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 3
 00     00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 10     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 20     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



(5e) Mutex Breaklock 06
=======================

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 06 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 06 00 
SCSI Status: Check Condition 

Sense Information:
Descriptor format, current; Sense key: Illegal Request
Additional sense: Logical block address out of range
  Descriptor type: Field replaceable unit code: 0x1
  Descriptor type: Vendor specific [0x80]
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 
 Raw sense data (in hex):
        72 05 21 00 00 00 00 14  03 02 00 01 80 0e 00 00
        00 00 00 00 00 00 00 00  00 00 00 00

Illegal request
	

Expected : LBA out of Range 
Drive    : Check Condition 
*Note : Pass . Look at Additional sense buffer data



(5f) Read the 512 bytes from Uninitialized drive
 ===============================================
(base) pk@sgs-l071198d001a:~/go$ sudo sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 4
 00     00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 10     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 20     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors




(5e) Mutex Destroy 07
=====================

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 07 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 07 00 
SCSI Status: Check Condition 

Sense Information:
Descriptor format, current; Sense key: Illegal Request
Additional sense: Logical block address out of range
  Descriptor type: Field replaceable unit code: 0x1
  Descriptor type: Vendor specific [0x80]
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 
 Raw sense data (in hex):
        72 05 21 00 00 00 00 14  03 02 00 01 80 0e 00 00
        00 00 00 00 00 00 00 00  00 00 00 00

Illegal request


Expected : LBA out of Range 
Drive    : Check Condition 
*Note : Pass . Look at Additional sense buffer data




(5f) Read the 512 bytes from Uninitialized drive
================================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 5
 00     00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 10     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 20     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors




INITIALIZE THE DRIVE WITH VALID MUTEX OPERATIONS (Mutex Init 01 | Mutex TryLock 02  | Mutex Lock 03)
=====================================================================================================

(6) Initialize the drive with Mutex Init 01

$ sudo sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 01 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 01 00 
SCSI Status: Good 

No errors


Expected : Good 
Drive 	 : Good



(6a) Read the 512 bytes from Initialized drive
 ==============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
     cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:	FILE 6
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



EXPECTED : Non-zero values from BYTE 0 
DRIVE    : Non-zero values



(6b) Mutex Refresh 05

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(6c) Read the 512 bytes from Initialized drive
 ==============================================

$  sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 7
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Compare FILE 6 and FILE 7. It should be the same 

Expected : No change in the contents
Drive    : No changes in the contents 
REST OF THE DATA NO CHANGE



(6d) Read the 512 bytes from Initialized drive again
 ==================================================
$  sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 8
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Compare FILE 6 and FILE 8. It should be the same 
Expected : No change in the STATE and OTHER FIELDS
Drive    : STATE CHANGED TO TIMEOUT 104 
REST OF THE DATA NO CHANGE



(6e) Mutex Refresh 05 //The Refresh command had to be sent twice to retain the old value

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(6f) Read the 512 bytes from Initialized drive
 ==============================================

$  sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 9
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Compare FILE 6 and FILE 9. It should be the same 

Expected : No change in the STATE and OTHER FIELDS
Drive    : STATE CHANGED TO LOCKED 101 
REST OF THE DATA NO CHANGE

This TestCase Passed




(6g) Re-lock the drive with Mutex Init

$  sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 01 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 01 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Reservation conflict
Drive    : Reservation conflict



(6h) Read the 512 bytes from Initialized drive 
 ===============================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 10
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


COMPARE FILE 6 and FILE 10. 

EXPECTED : No change in the State value 101
Drive    : STATE Changed to 104
Send Refresh to see the old value


(6i) Mutex Refresh 05

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(6j) Read the 512 bytes from Initialized drive
 ==============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 11
00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors

COMPATE FILE 6 and FILE 11

Expected: STATE to be 101
Drive    :STATE to 101



(6k) Re-lock the drive with Mutex TryLock

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 02 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Reservation conflict
Drive    : Reservation conflict




(6l) Read the 512 bytes from initialized drive
 =============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 12
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Expected  : Data same as FILE 6
Drive     : STATE CHANGED TO 104



(6m) Mutex Refresh 05

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(6n) Read the 512 bytes from initialized drive 
 ==============================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 13
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



COMPATE FILE 6 and FILE 13

Expected: STATE to be 101
Drive    :STATE to 101




(6o) Re-initialize the drive with Mutex Lock

(base) pk@sgs-l071198d001a:~/go$ sudo sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 03 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 03 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Busy
Drive    : Reservation conflict

This is a bug



(6p) Read the 512 bytes from Initialized Drive
================================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 14
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Expected : Same as File 6
Drive    : STATE CHANGED to 104

	

(6q) Mutex Refresh
$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors


(6r) Read the 512 bytes from Initialized drive
===============================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 15
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



COMPATE FILE 6 and FILE 15

Expected: STATE to be 101
Drive    :STATE to 101




(6s) Relock the drive with Mutex TryLock (02)

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 02 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected	: Reservation conflict
Drive		: Reservation conflict



(6t) Read the 512 bytes from Initialized drive 
=================================================

$ sudo sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 16
00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors

Expected: STATE to be 101
Drive    :STATE CHANGED TO 104



(6u) Mutex Refresh
$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors


(6v) Read the 512 bytes from Initialized drive
===============================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:  FILE 17
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



/********************  DONT EXECUTE THE STEPS FROM 6w to 6w2 . ERROR WAS SPOTTED IN r00b.lod. Its fixed in r00d.lod *********************************/
(6w) RE-EXECUTE 6u and 6v


(6w1) Mutex Refresh
$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors


(6w2) Read the 512 bytes from Initialized drive
===============================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:  FILE 18
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors

Compare File 6 and File 18

Expected : No change in STATE and Other values (101
Drive    : Contents same as File 6

**********************************************************************************/


(6x) Reinitialize the drive with Mutex Break (06)

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 06 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 06 00 
SCSI Status: Good 

No errors


Expected	: Reservation conflict
Drive		: Good

This is a bug



(6y) Read the 512 bytes from Initialized drive 
================================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data: FILE 19
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Expected: 101
Drive    :101


(6z) Mutex Refresh

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(6z1) Read the 512 bytes from Initialized drive
================================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: FILE 20
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors

Compare File 6 and File 20

Expected: STATE to be 101
Drive    :Same as File 6



TEST REMARKS : 1 Bug and few inconsistemcy but does not affect functionalality





/********************************* THIS BELOW FINDINGS WERE in r00b.lod. Its fixed in r00d.lod . DONT EXECUTE THE STEPS TILL 6z1  ********/

Execute  ExtendedRead16 command again, the value changes
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Execute  ExtendedRead16 command again, the value changes
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


REPEAT Refresh and Read


(6z) Mutex Refresh

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(6z1) Read the 512 bytes from Initialized drive
================================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Bug
===
Execute the ExtendedRead 16 multiple time and read the file content.
The value changes
Only after Mutex Refresh, the value is set back to 101

**************************************************************************************************************************/






/*********************************************************** END OF UNINIT and INIT MUTEX ********** ********************************************************************************/






/*********************************************************** START OF LOCKED TO UNLOCKED STATE  **************************************************************************************/



TEST SCEANRIO : LOCK to UNLOCK STATE
====================================

Mutex Lock   : 03
Mutex Unlock : 04

Input File : test_data_NewHostID.bin


L1) Send Mutex Unlock to Locked Drive (Unlock a locked drive usging different HostID)

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 04 00

cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 04 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Reservation Conflict
Drive    : Reservation conflict

(Just lower case mismatch - Ignore)



(L2) Read the 512 bytes from Locked drive
==========================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:  L-FILE 1
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Expected : STATE 101
Drive    : STATE 104



(L3) Mutex Refresh with new test_data_NewHostID.bin

$ sudo sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00

  cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict

Expected : Reservation Conflict
Drive    : Reservation conflict



(L4) Read the 512 bytes from Locked drive
==========================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:  L-FILE 2
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Expected : STATE 101
Drive    : STATE 104


Input File : test_data.bin  

(L5) Mutex Refresh with old test_data.bin (Locked (Host A) and Refresh cmd (Host A), then timeout is restarted and return Good)

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00

 cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors




(L6) Read the 512 bytes from Locked drive
==========================================
$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:  L-FILE 3
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors

Expected : STATE 101
Drive    : STATE 101





(L7) Send Mutex Unlock to Locked Drive (Unlock a locked drive using same HostID)

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 04 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 04 00 
SCSI Status: Good 

No errors


Expected : Good
Drive    : Good


(L8) Read the 512 bytes from Unlocked drive
==========================================
sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:   L-FILE 4
 00     00 00 00 00 00 00 01 02  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Compare  L-FILE 3 and  L-FILE 4

Expected : Unlocked State 102
Drive    : 102




(L9) Test different Mutex Operations in the Unlocked State
==========================================================

(L9.1)  Mutex Refresh 05

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Reservation Conflict
Drive    : Reservation conflict



(L9.2) Read the 512 bytes from Unlocked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: L-FILE 5
 00     00 00 00 00 00 00 01 02  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



(L9.3)  Mutex Break 05

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 06 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 06 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Reservation Conflict
Drive    : Reservation conflict



(L9.4) Read the 512 bytes from Unlocked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: L-FILE 6
 00     00 00 00 00 00 00 01 02  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



(L9.5)  Mutex Init 01

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 01 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 01 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Reservation Conflict
Drive    : Reservation conflict



(L9.6) Read the 512 bytes from Unlocked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: L-FILE 7
 00     00 00 00 00 00 00 01 02  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



(L9.7)  Mutex Unlock 01

$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 04 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 04 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Reservation Conflict
Drive    : Reservation conflict



(L9.8) Read the 512 bytes from Unlocked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: L-FILE 8
 00     00 00 00 00 00 00 01 02  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 65 43 21    .............eC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



(L9.9) Unknown Mutex Op
=======================
$ sg_raw -v -s 512 -i test_data.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 09 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 09 00 
SCSI Status: Check Condition 

Sense Information:
Descriptor format, current; Sense key: Data Protect
Additional sense: Incompatible medium installed
  Descriptor type: Field replaceable unit code: 0x2
  Descriptor type: Vendor specific [0x80]
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 
 Raw sense data (in hex):
        72 07 30 00 00 00 00 14  03 02 00 02 80 0e 00 00
        00 00 00 00 00 00 00 00  00 00 00 00

Data protect




(L9.10) Issuing an Unlock by any host to a mutex in the Unlock state, will return Good status and no change in the drive  

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 04 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 04 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Good
Drive    : Reservation Conflict


TEST REMARKS : NOT MAJOR BUGS. Except L9.10


/**************************************************************  END OF LOCK TO UNLOCK  ***************************************************************************************************** /



/************************************************************** START OF UNLOCKED TO LOCKED STATE  *****************************************************************************************/


TEST SCEANRIO : UNLOCKED to LOCKED STATE
=======================================

Mutex TryLock    : 02
Mutex Lock       : 03
Mutex Unlock     : 04

Input File : test_data_NewHostID.bin 
With new Host ID as 09 87 55 43 21


U1) Lock the drive from Unlocked State (using Mutex TryLock)

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 02 00
 
   cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

No errors


Expected : Good
Drive    : Good




(U2) Read the 512 bytes from Locked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: U-FILE 1
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


(U3) Mutex Refresh
==================

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(U4) Read the 512 bytes from Locked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: U-FILE 2
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



/***************  DONT EXECUTE THE STEPS FROM U3a - U4a . THIS WAS THE BUG IN r00b.lod. Its FIXED in rood.lod *****/
  


(U3a) Mutex Refresh
==================

$ sudo sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(U4a) Read the 512 bytes from Locked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: U-FILE 3
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Expected : New HOST ID 09 87 55 43 21
Drive    : 09 87 55 43 21

/****************************************************************************/


(U5) Re-lock using Mutex TryLock 02 

 $ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 02 00

 cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 02 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict

Expected : Reservation Conflict
Drive    : Reservation conflict



(U6) Read the 512 bytes from Locked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: U-FILE 4
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Expected : STATE 101
Drive    : STATE 104



(U7) Mutex Refresh
==================

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors



(U8) Read the 512 bytes from Locked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: U-FILE 5
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



Expected : STATE 101
Drive    : STATE 101


(U9) Read the 4096 bytes from Locked drive
=============================================
$ sg_raw -v -r 4096 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 08 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 08 02 00 
SCSI Status: Good 

Received 4096 bytes of data:
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 200    00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 210    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 220    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 230    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 240    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 250    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 260    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 270    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 280    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 290    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 2a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 2b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 2c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 2d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 2e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 2f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 300    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 310    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 320    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 330    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 340    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 350    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 360    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 370    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 380    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 390    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 3a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 3b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 3c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 3d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 3e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 3f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 400    00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 410    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 420    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 430    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 440    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 450    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 460    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 470    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 480    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 490    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 4a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 4b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 4c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 4d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 4e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 4f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 500    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 510    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 520    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 530    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 540    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 550    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 560    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 570    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 580    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 590    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 5a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 5b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 5c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 5d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 5e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 5f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 600    00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 610    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 620    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 630    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 640    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 650    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 660    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 670    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 680    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 690    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 6a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 6b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 6c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 6d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 6e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 6f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 700    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 710    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 720    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 730    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 740    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 750    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 760    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 770    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 780    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 790    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 7a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 7b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 7c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 7d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 7e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 7f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 800    00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 810    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 820    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 830    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 840    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 850    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 860    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 870    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 880    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 890    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 8a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 8b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 8c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 8d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 8e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 8f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 900    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 910    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 920    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 930    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 940    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 950    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 960    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 970    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 980    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 990    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 9a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 9b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 9c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 9d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 9e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 9f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a00    00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 a10    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a20    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a30    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a40    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a50    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a60    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a70    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a80    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a90    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 aa0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ab0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ac0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ad0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ae0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 af0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b00    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b10    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b20    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b30    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b40    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b50    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b60    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b70    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b80    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b90    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ba0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 bb0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 bc0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 bd0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 be0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 bf0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c00    00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 c10    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c20    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c30    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c40    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c50    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c60    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c70    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c80    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c90    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ca0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 cb0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 cc0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 cd0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ce0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 cf0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d00    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d10    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d20    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d30    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d40    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d50    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d60    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d70    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d80    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d90    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 da0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 db0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 dc0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 dd0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 de0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 df0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e00    00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 e10    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e20    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e30    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e40    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e50    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e60    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e70    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e80    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e90    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ea0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 eb0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ec0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ed0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ee0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ef0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f00    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f10    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f20    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f30    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f40    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f50    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f60    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f70    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f80    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f90    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 fa0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 fb0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 fc0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 fd0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 fe0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 ff0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors



TEST REMARKS :NOT ABLE TO VIEW THE TWO HOSTIDs FROM THE DRIVE



/************************************************************************************* END OF UNLOCKED TO LOCKED STATE  *****************************************************************************************/




/************************************************************************************* START OF LOCKED TO INIT STATE  *****************************************************************************************/


TEST SCEANRIO : LOCKED TO INIT STATE
=======================================

Mutex Destroy    : 07

Input File : test_data_NewHostID.bin 
With new Host ID as 09 87 55 43 21


(LI1) Destroy the drive from Locked State (using Mutex Destroy)

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 07 00
 
  cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 07 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict



Expected : Good
Drive    : Reservation




(LI2) Read the 512 bytes from Locked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: LI-FILE 1
 00     00 00 00 00 00 00 01 04  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors




(LI3) Mutex Refresh
==================

$ sudo sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 05 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 05 00 
SCSI Status: Good 

No errors




(LI4) Read the 512 bytes from Locked drive
=============================================

$ sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 


Received 512 bytes of data: LI-FILE 2
 00     00 00 00 00 00 00 01 01  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


(LI5) Destroy the Drive thru Mutex Destroy
=============================================

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 07 00
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 07 00 
>>> unknown pass through result category (1)
SCSI Status: Reservation Conflict 

Reservation conflict


Expected : Good
Drive    : Reservation



TEST REMARKS :NOT ABLE TO DESTROY THE DRIVE THROUGH MUTEX DESTROY



/*************************************************************************** END OF LOCKED TO INIT STATE  **************************************************************************************/






/*************************************************************************** START OF LOCKED TO UNLOCK STATE TO DESTROY ALL MUTEXES **************************************************************************************/


(D1) Send Mutex Unlock to Locked Drive (Unlock a locked drive using same HostID)

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 04 00
    sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 04 00
[sudo] password for pk: 
    cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 04 00 
SCSI Status: Good 

No errors


Expected : Good
Drive    : Good


(D2) Read the 512 bytes from Unlocked drive
===========================================
sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:   D-FILE 1
 00     00 00 00 00 00 00 01 02  01 02 03 04 05 06 07 08    ................
 10     00 00 00 00 00 00 75 30  00 00 00 00 00 00 00 00    ......u0........
 20     00 00 00 00 00 00 be ef  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 ad eb    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 fe ed    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 09 87 55 43 21    .............UC!
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


Expected : Unlocked State 102
Drive    : 102




(D3) Send Mutex Destroy to Unlocked Drive 

$ sg_raw -v -s 512 -i test_data_NewHostID.bin /dev/sg1  8E 00 01 00 00 00 00 20 FF 01 00 00 00 01 07 00

 cdb to send: 8e 00 01 00 00 00 00 20 ff 01 00 00 00 01 07 00 
SCSI Status: Good 

No errors

Expected : Good
Drive    : Good



(D4) Read the 512 bytes from INIT drive
===========================================
sg_raw -v -r 512 /dev/sg1 88 00 03 00 00 00 00 20 FF 01 00 00 00 01 02 00
    cdb to send: 88 00 03 00 00 00 00 20 ff 01 00 00 00 01 02 00 
SCSI Status: Good 

Received 512 bytes of data:   D-FILE 2
 00     00 00 00 00 00 00 de ad  00 00 00 00 00 00 00 00    ................
 10     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 20     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 30     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 40     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 50     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 60     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 70     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 80     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 90     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 a0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 b0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 c0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 d0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 e0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 f0     00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 100    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 110    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 120    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 130    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 140    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 150    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 160    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 170    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 180    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 190    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1a0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1b0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1c0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1d0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1e0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
 1f0    00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................
No errors


COMPATE D-FILE 1 and D-FILE 2


Expected : STATE as DEAD
Drive    : DEAD
	


TEST REMARKS :ABLE TO DESTROY THE DRIVE THROUGH MUTEX DESTROY (CYCLE IS LOCKED---UNLOCKED --- INIT)



/*************************************************************************** END OF LOCKED TO UNLOCK STATE TO DESTROY ALL MUTEXES **************************************************************************************/






